
@{
    ViewBag.Title = "Index";
}

<link href="~/Theme/css/plugins/jQueryUI/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">
<link href="~/Theme/css/plugins/jqGrid/ui.jqgrid.css" rel="stylesheet">
<link href="~/Theme/css/plugins/toastr/toastr.min.css" rel="stylesheet" />
<link href="~/css/custom/SharedStyles.css" rel="stylesheet" />

<div class="container" style="margin-top:20px">


    <div style="margin-top:80px">

        <div class="row hidden">
            <div class="col-sm-3">
                <label>Date Start</label>
                <div class="input-group date" data-provide="datepicker">
                    <input type="text" class="form-control" id="dtp_sub_StartDateMain" readonly>
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <label>Date End</label>
                <div class="input-group date" data-provide="datepicker">
                    <input type="text" class="form-control" id="dtp_sub_EndDateMain" readonly>
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <label>Subscriber</label>
                <select class="form-control" id="ddl_sub_Subscriber">
                    <option value="0" disabled>--Select--</option>

                </select>
            </div>
        </div>
        <div class="row" />
        <div class="col-sm-3" style="float:right">
            <input type="button" class="btn btn-success" id="btn_sub_AddNewSubscriber" value="Add New Subscription" style="float:right" />
        </div>
    </div>

    <br />



    <span style="width:50%"></span>

    <table id="tblSubsciptionInformation" class="table table-bordered table-striped table-hover">

        <thead>
            <tr>
                <th class="text-center success">Last Name</th>
                <th class="text-center success">First Name</th>
                <th class="text-center success">Phone</th>
                <th class="text-center success">Subscription Amount</th>

                <th class="text-center success">Due Date</th>
                <th class="text-center success">Start Date</th>
                <th class="text-center success">Last Reminder Date</th>
                <th class="text-center success">Subscription Status</th>
                <th class="text-center success">Action</th>
            </tr>
        </thead>
        <tbody class="tblactive"></tbody>


    </table>
</div>




</div>

<div class="modal fade " id="AddNewSubscriberModal" tabindex="-1" role="basic" aria-hidden="true" style="display:none;">
    <div class="modal-dialog modal-lg AddNewSubscriberModal" style="width:800px">
        <div class="modal-content col-xs-11">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title">Add New Subscription</h4>
            </div>
            <div class="modal-body ">
                <div class="row">
                    <div class="col-sm-6">
                        <label>Customer</label>
                        <select class="form-control ddl_sell_Customer" id="dd_sell_Customer">
                            <option value="0" disabled>--Select--</option>

                        </select>
                    </div>
                    <div class="col-sm-1">
                        <label>Add</label>
                        <input type="button" class="btn btn-success" id="btn_AddCustomer" value="+">
                    </div>

                </div>
                <div class="row">

                    <div class="col-sm-0">
                        <label id="lbl_sub_subId"></label>
                        <input type="hidden" class="form-control" id="txt_sub_CustId" maxlength="50" readonly />
                    </div>
                    <div class="col-sm-6">
                        <label>First Name</label>
                        <input type="text" class="form-control" id="txt_sub_FirstName" maxlength="50" readonly />
                    </div>
                    <div class="col-sm-6">
                        <label>Last Name</label>
                        <input type="text" class="form-control" id="txt_sub_LastName" maxlength="50" readonly />
                    </div>
                   


                </div>
                <br />
                <div class="row">

                    <div class="col-sm-6">
                        <label>Phone</label>
                        <input type="text" class="form-control StopPasting" id="txt_sub_Phone" onkeypress="return NotAllowDecimalAndNegative(event)" maxlength="20" readonly />
                    </div>
                    <div class="col-sm-6">
                        <label>Email</label>
                        <input type="text" class="form-control" id="txt_sub_Email" maxlength="50" readonly />
                    </div>


                </div>
                <br />
                <div class="row">
                    <div class="col-sm-3 hidden">
                        <label>Opening Balance</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormattingwithouminus StopPasting" id="txt_sub_OpeningBalance" />
                        </div>
                    </div>

                    <div class="col-sm-3">
                        <label>Due Date</label>
                        <select class="form-control" id="ddl_sub_DueDate">
                            <option value="0" disabled>--Select--</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                        </select>

                    </div>
                    <div class="col-sm-3">
                        <label>Subscription Amount</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormatting StopPasting" id="txt_sub_SubscriptionAmount" maxlength="8" />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label>Start Date</label>
                        <div class="input-group date" data-provide="datepicker">
                            <input type="text" class="form-control" id="dtp_sub_StartDate" readonly>
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-th"></span>
                            </div>
                        </div>
                    </div>

                    @*<div class="col-sm-3">
                            <label>Payment Date</label>
                            <div class="input-group date" data-provide="datepicker">
                                <input type="text" class="form-control" id="dtp_sub_PaymentDate" readonly>
                                <div class="input-group-addon">
                                    <span class="glyphicon glyphicon-th"></span>
                                </div>
                            </div>
                        </div>*@
                </div>
                <br />


                <div class="row">
                    @* <div class="col-sm-3">
                            <label id="chk_sub_subStatus_lbl">Sub Disable Status</label>
                            <input class="form-check-input col-sm-6" type="checkbox" id="chk_sub_subStatus" style="height:30px;">

                        </div>
                        <div class="col-sm-3">
                            <input type="button" class="btn btn-primary hidden" id="btn_sub_EnableSubscription" value="Enable" />
                        </div>
                        <div class="col-sm-3">
                            <input type="button" class="btn btn-primary hidden" id="btn_sub_disableSubscription" value="Disable" />
                        </div>
                    *@
                    @*<div class="col-sm-4">
                            <label>Subs Disable StartDate</label>
                            <div class="input-group date" id="valDate" data-provide="datepicker">
                                <input type="text" class="form-control date valDate" id="dtp_sub_subDisableStartDate" readonly>
                                <div class="input-group-addon">
                                    <span class="glyphicon glyphicon-th"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label>Subs Disable EndDate</label>
                            <div class="input-group date" id="valDate" data-provide="datepicker">
                                <input type="text" class="form-control date valDate" id="dtp_sub_subDisableEndDate" readonly>
                                <div class="input-group-addon">
                                    <span class="glyphicon glyphicon-th"></span>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-1" style="margin-left: -3%;">
                            <input type="button" class="btn btn-primary add_clone_date" id="add_clone_date" value="+" style="margin-top: 88%;" />
                        </div>*@
                </div>
                @*<div class="clone-date-wrapper"><i class="clearfix"></i></div>*@
                <br />
                <div class="row">

                    <div class="col-sm-9">
                        <label>Comments</label>
                        <input type="text" class="form-control" id="txt_sub_Comments" maxlength="250" />
                    </div>
                    <div class="col-sm-3">
                        <label id="chk_sub_subStatus_lbl">Disable Subscription</label>
                        <input class="form-check-input col-sm-6" type="checkbox" id="chk_sub_subStatus" style="height:30px;">

                    </div>


                </div>
                <br />


            </div>
            <div class="modal-footer">
                <input type="button" class="btn btn-success save" id="btn_sub_Save" value="Save" />
                <a href="#" class="btn btn-default close" data-dismiss="modal">Close</a>
            </div>


        </div>

    </div>
</div>

<div class="modal fade" id="NewCustomerModal" tabindex="-1" role="basic" aria-hidden="true" style="display:none;">
    <div class="modal-dialog NewCustomerModal" style="width: 50%; margin-left: 22%; ">
        <div class="modal-content col-xs-12">
            <div class="modal-header">
                @*<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>*@
                <h4 class="modal-title" id="title_sales_customer">Add New Customer</h4>
            </div>
            <div class="modal-body ">
                <div class="row">

                    <div class="col-sm-3">
                        <label>First Name</label>
                        <input type="text" class="form-control txtCstFname" maxlength="50" />
                    </div>
                    <div class="col-sm-3">
                        <label>Last Name</label>
                        <input type="text" class="form-control txtCstLname" maxlength="50" />
                    </div>
                    <div class="col-sm-3">
                        <label>Phone</label>
                        <input type="text" class="form-control txtCstPhone StopPasting" onkeypress="return NotAllowDecimalAndNegative(event)" maxlength="20" />
                    </div>
                    <div class="col-sm-3">
                        <label>Email</label>
                        <input type="text" class="form-control txtCstEmail StopPasting" maxlength="20" />
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <input type="button" class="btn btn-success" id="btnSaveCustomer" value="Save" />
                <a href="#" class="btn btn-default" data-dismiss="modal">Close</a>
            </div>


        </div>

    </div>
</div>

<div class="modal fade" id="ReminderLogModal" tabindex="-1" role="basic" aria-hidden="true" style="display:none;">
    <div class="modal-dialog NewCustomerModal" style="width: 50%; margin-left: 22%; ">
        <div class="modal-content col-xs-12">
            <div class="modal-header">
                @*<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>*@
                <h4 class="modal-title">Subscription Log <span id="title_subscriptin_customer"></span></h4>
            </div>
            <div class="modal-body ">
                <div class="row">

                    <div class="col-sm-12">
                        <div id="reminderLogDiv"></div>
                    </div>

                </div>
            </div>
            <div class="modal-footer">

                <a href="#" class="btn btn-default" data-dismiss="modal">Close</a>
            </div>


        </div>

    </div>
</div>

<script src="~/Theme/js/plugins/jqGrid/i18n/grid.locale-en.js"></script>
<script src="~/Theme/js/plugins/jqGrid/jquery.jqGrid.min.js"></script>
<script src="~/Scripts/custom/helper.js"></script>
<script src="~/Theme/js/plugins/typehead/bootstrap3-typeahead.min.js"></script>
<script src="~/Theme/js/jquery.inputpicker.js"></script>
<script src="~/Theme/js/plugins/toastr/toastr.min.js"></script>

<script src="~/Scripts/custom/GenericLib.js"></script>
<script src="~/Scripts/custom/SubscriptionManagment.js"></script>



<script type="text/javascript">

    $(document).ready(function () {
        SubscriptionTrigger();



    });



</script>









@*<script type="text/javascript">

        $(".listmenu[data-toggle='popover']").popover({
            html: true,
            content: function () {
                var content = $(this).attr("data-popover-content");
                return $(content).children(".popover-body").html();

            },
            placement: 'right',
            title: function () {
                var title = $(this).attr("data-popover-content");
                return $(title).children(".popover-heading").html();
            }
        });

        $('#tblSubsciptionInformation').DataTable();


        $(document).ready(function () {


            SubscriptionInfo();


        });




    </script>*@


