
@{
    ViewBag.Title = "Index";
}

<link href="~/Theme/css/plugins/jQueryUI/jquery-ui-1.10.4.custom.min.css" rel="stylesheet">
<link href="~/Theme/css/plugins/jqGrid/ui.jqgrid.css" rel="stylesheet">
<link href="~/Theme/css/plugins/toastr/toastr.min.css" rel="stylesheet" />
<link href="~/css/custom/SharedStyles.css" rel="stylesheet" />
<link href="~/css/plugins/chosen/chosen.css" rel="stylesheet" />

<div class="container" style="margin-top:20px">


    <div style="margin-top:80px">

        <div class="row">
            <div class="col-sm-3">
                <label>Date Start</label>
                <div class="input-group date " data-provide="datepicker">
                    <input type="text" id="dtp_creditSales_MainStartDate" class="form-control" readonly>
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <label>Date End</label>
                <div class="input-group date" data-provide="datepicker">
                    <input type="text" id="dtp_creditSales_MainEndDate" class="form-control" readonly>
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                </div>
            </div>
            @*<div class="col-sm-3">
                    <label>Search By</label>
                    <select class="form-control" id="ddl_customer_SearchBy">
                        <option value="0" disabled>--Select--</option>
                        <option value="1">Item Name</option>
                        <option value="2">Item Code</option>

                    </select>
                </div>*@
            <div class="col-sm-3">
                <br />
                <input type="button" class="btn btn-success" id="btn_creditSales_Search" value="Search" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3" style="float:right">
                <input type="button" class="btn btn-success" id="btn_creditSales_AddReceiving" value="Add Receiving" style="float:right" />
            </div>
        </div>

        <br />

        <table id="tblCreditSalesInformation" class="table table-bordered table-striped table-hover">
            <thead>
                <tr>
                    <th class="text-center success">Invoice No</th>
                    <th class="text-center success">Customer Name</th>
                    <th class="text-center success">Sales Date</th>
                    <th class="text-center success">Amount</th>
                    @*<th class="text-center success">OpeningBalance</th>*@

                    <th class="text-center success">Action</th>
                </tr>
            </thead>
            <tbody class="tblactive"></tbody>

        </table>
    </div>




</div>

<div class="modal fade" id="AddReceivingModal" tabindex="-1" role="basic" aria-hidden="true" style="display:none;">
    <div class="modal-dialog modal-lg AddReceivingModal" style="width:700px">
        <div class="modal-content col-xs-11">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title">Add Receiving</h4>
            </div>
            <div class="modal-body ">
                <div class="row">
                    @*<div class="col-sm-0">
                            <label id="txt_customer_Id"></label>

                        </div>*@
                    <div class="col-sm-6">
                        <label>Customer Name</label>
                        <select id="dd_creditSales_Customer" class="form-control dd_creditSales_Customer">
                            <option value="0" disabled>--Select--</option>

                        </select>
                    </div>
                    <div class="col-sm-6">
                        <label>Invoice No</label>
                        <select id="dd_creditSales_InvoiceNo" class="form-control dd_creditSales_InvoiceNo">
                            <option value="0" disabled>--Select--</option>

                        </select>
                    </div>


                </div>
                <br />
                <div class="row">
                    <div class="col-sm-6">
                        <label>Sale Date</label>

                        <input type="text" class="form-control" id="txt_creditSale_SaleDate" readonly />
                    </div>
                    <div class="col-sm-6">
                        <label>Sales Person</label>
                        <input type="text" class="form-control sales_person" readonly name="SalesPerson" id="sales_person" value="" />
                    </div>
                </div>
                <br />
                <div class="row">

                    <div class="col-sm-6">
                        <label>Credit Paid Date</label>
                        <div class="input-group datetimepker">
                            <input type="text" class="form-control datetimepker linkToDatePermission" id="dtp_creditSales_paidDate" readonly>
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-th"></span>
                            </div>
                        </div>

                    </div>


                </div>

                <div class="row">

                    <div class="col-sm-6">
                        <label>Invoice Amount</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormattingwithouminus StopPasting" id="txt_creditSales_InvoiceAmount" maxlength="13" readonly />
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label>Paid Amount</label>

                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormattingwithouminus StopPasting" id="txt_creditSales_PaidAmount" maxlength="13" readonly />
                        </div>
                    </div>

                </div>
                <br />

                <div class="row">

                    <div class="col-sm-6">
                        <label>Amount</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormattingwithouminus StopPasting" id="txt_creditSales_Amount" maxlength="13" />
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label>Payment Mode</label>
                        <div class="">
                            <select id="ddl_CreditSales_PaymentMode" class="ddlPaymentMode form-control">
                                <option value="1">Cash</option>
                                <option value="2">Cheque</option>
                            </select>
                        </div>
                    </div>


                </div>
                <br />
                <div class="row">

                    <div class="col-md-6">
                        <label>Bank</label>
                        <div>
                            <select id="ddl_CreditSales_Bank" class="form-control"></select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label>Cheque#</label>
                        <div>
                            <input id="txt_creditSales_DocNum" type="text" class="form-control inpDocNumber " />
                        </div>
                    </div>


                </div>
                <div class="row">
                    <div class="col-md-10">
                        <label>Comment</label>
                        <div>
                            <input id="txt_creditSales_Comment" maxlength="100" type="text" class="form-control inpComment " />
                        </div>
                    </div>
                </div>

                <br />





            </div>
            <div class="modal-footer">
                <input type="button" class="btn btn-success" id="btn_creditSales_Save" value="Save" />
                <a href="#" class="btn btn-default close" data-dismiss="modal">Close</a>
            </div>


        </div>

    </div>
</div>

<div class="modal fade" id="AddNewSellModal" tabindex="-1" role="basic" aria-hidden="true" style="display:none;">
    <div class="modal-dialog modal-lg AddNewSellModal" style="width:1170px">
        <div class="modal-content col-xs-11">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title">Add New Sales</h4>
            </div>
            <div class="modal-body ">
                <div class="row">
                    <div class="col-sm-3">
                        <label>Invoice #</label>
                        <input type="text" class="form-control" id="txt_sell_InvoiceNo" value="10102222" readonly />
                    </div>
                    <div class="col-sm-3">
                        <label>Date</label>
                        @*<div class="input-group date" data-provide="datepicker">
                                <input type="text" class="form-control" id="dtp_sell_ActivityDate" readonly>
                                <div class="input-group-addon">
                                    <span class="glyphicon glyphicon-th"></span>
                                </div>
                            </div>*@
                        <div class="input-group datetimepker disabled">
                            <input type="text" class="form-control datetimepker linkToDatePermission" id="dtp_sell_ActivityDate" readonly>
                            <div class="input-group-addon disabled">
                                <span class="glyphicon glyphicon-th"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <label>Customer</label>
                        <input type="text" class="form-control" id="dd_sell_Customer" readonly>
                        @*<select class="form-control ddl_sell_Customer" id="dd_sell_Customer" disabled>
                                <option value="0" disabled>--Select--</option>

                            </select>*@
                    </div>
                    <div class="col-sm-1" hidden>
                        <label>Add</label>
                        <input type="button" class="btn btn-success" id="btn_AddCustomer" value="+">


                    </div>

                    <div class="col-sm-2">
                        <input class="form-check-input col-sm-3" type="checkbox" id="chk_Sale_customer_IsSalesCredit" style="height:40px;" disabled>
                        <br /> <label class="form-check-label col-sm-9" style="padding:0px;font-size:16px;">Credit</label>
                    </div>
                    @*<div class="col-sm-3">
                            <label class="hidden">Services</label><br />
                            <input class="form-check-input col-sm-3 hidden" type="checkbox" id="Xchk_sell_Service" style="height:30px;">
                        </div>*@

                </div>
                <br /> <br />
                <div class="row hidden" id="div_sell_Item">
                    <div class="col-sm-2">
                        <label>Code</label>
                        <input type="text" class="form-control" id="txt_sell_Code" maxlength="13" disabled />
                    </div>
                    <div class="col-sm-2">
                        <label>Item</label>
                        <select class="form-control  ddl_sell_item " id="txt_sell_item" disabled>
                            <option value="0"></option>

                        </select>
                    </div>
                    <div class="col-sm-2">
                        <label>Unit</label>
                        <input type="text" class="form-control" id="txt_sell_Unit" readonly />
                    </div>
                    <div class="col-sm-2">
                        <label>Qty</label>
                        <input type="number" min="0" class="form-control StopPasting" oninput="validity.valid||(value='');" id="txt_sell_Qty" max="9999" disabled />
                    </div>
                    <div class="col-sm-2">
                        <label>Unit Price</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormattingwithouminus StopPasting" id="txt_sell_Unitprice" maxlength="13" disabled />
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <label>Tax</label>
                        <label id="lbl_sell_tax"></label>
                        <div class="currencyInputWrap">
                            <input type="text" disabled="disabled" class="form-control CurrencyFormatting StopPasting" id="txt_sell_tax" />
                        </div>
                    </div>
                </div>
                <div class="row" id="div_sell_Service">

                    <div class="col-sm-2">
                        <label>Service</label>
                        <select class="form-control  ddl_sell_service " id="txt_sell_service">
                            <option value="0"></option>

                        </select>
                    </div>

                    <div class="col-sm-2">
                        <label>Unit Price</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormatting StopPasting" id="txt_sell_service_unitprice" />
                        </div>
                    </div>
                    <div class="col-sm-2">
                        <label>Tax</label>
                        <label id="lbl_sell_service_tax"></label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control StopPasting" disabled="disabled" id="txt_sell_service_tax" />
                        </div>
                    </div>
                    <div class="col-sm-2"></div>
                    <div class="col-sm-2">
                        <label>Amount</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormatting StopPasting Amount" id="txt_sell_service_Amount" readonly />
                        </div>
                    </div>
                </div>
                <div class="row hidden" id="div_sell_amount">
                    <div class="col-sm-10"></div>
                    <div class="col-sm-2">
                        <label>Amount</label>
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormatting StopPasting Amount" id="txt_sell_Amount" readonly />
                        </div>
                    </div>
                </div>

                <br />
                <div class="row" hidden>
                    <div class="col-sm-3" style="text-align:right;float:right">
                        <input type="button" class="btn btn-success AddSales" value="Add" />
                    </div>
                </div>

                <br /><br />
                <table id="tblSalescurrentInformation" class="table table-bordered table-striped table-hover">
                    <thead>
                        <tr>
                            <th class="text-center success">Code</th>
                            <th class="text-center success">Item</th>
                            <th class="text-center success">Unit</th>
                            <th class="text-center success">Qty</th>
                            <th class="text-center success">Price</th>
                            <th class="text-center success">Tax</th>
                            <th class="text-center success">Amount</th>
                            @*<th class="text-center success">Action</th>*@
                        </tr>
                    </thead>
                    <tbody class="tblCurrentSales"></tbody>

                </table>

                <br />

                <div class="row">
                    <div class="col-sm-1" style="text-align:right;padding :0px;">
                        <label> Comments : </label>
                    </div>
                    <div class="col-sm-11">
                        <input type="text" class="form-control" id="txt_sell_Comments" maxlength="250" disabled />
                    </div>
                </div>
                <br />

                <div class="row">
                    <div class="col-sm-1" style="text-align:right;padding:0px;">
                        <label>Net Amount</label>
                    </div>
                    <div class="col-sm-2">
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormatting StopPasting NetAmount" id="txt_sell_NetAmount" readonly />
                        </div>
                    </div>
                    <div class="col-sm-1" style="text-align:right;padding:0px;">
                        <label>Net Tax</label>
                    </div>
                    <div class="col-sm-2">
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormatting StopPasting" id="txt_sell_NetTaxAmount" readonly />
                        </div>
                    </div>
                    <div class="col-sm-1" style="text-align:right;padding:0px;">
                        <label>Paid</label>
                    </div>
                    <div class="col-sm-2">
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormattingwithouminus StopPasting paid" min="0" id="txt_sell_PaidAmount" oninput="validity.valid||(value='');" maxlength="13" disabled />
                        </div>
                    </div>
                    <div class="col-sm-1" style="text-align:right;padding:0px">
                        <label>Balance</label>
                    </div>
                    <div class="col-sm-2">
                        <div class="currencyInputWrap">
                            <input type="text" class="form-control CurrencyFormatting StopPasting balance" id="txt_sell_Balance" readonly />
                        </div>
                    </div>
                </div>


            </div>
            <div class="modal-footer">

                <a href="#" class="btn btn-default close" data-dismiss="modal">Close</a>
            </div>


        </div>

    </div>
</div>
<div id="PrintPreviewModal" class="modal fade">
    <div class="modal-dialog modal-lg AddNewSellModal" style="width:90vw">
        <div class="modal-content col-xs-11">
            <div class="modal-header">

            </div>
            <div class="modal-body" style="height:80vh">
                <iframe id="PrintPreviewIFrame" frameborder="0" width="100%" height="100%"></iframe>
            </div>
            <div class="modal-footer">
                <a href="#" class="btn btn-default btn-danger close" data-dismiss="modal">Close</a>
            </div>
        </div>

    </div>
</div>
<script src="~/Theme/js/plugins/jqGrid/i18n/grid.locale-en.js"></script>
<script src="~/Theme/js/plugins/jqGrid/jquery.jqGrid.min.js"></script>
<script src="~/Scripts/custom/helper.js"></script>
<script src="~/Theme/js/plugins/typehead/bootstrap3-typeahead.min.js"></script>
<script src="~/Theme/js/jquery.inputpicker.js"></script>
<script src="~/Theme/js/plugins/toastr/toastr.min.js"></script>
<script src="~/Scripts/custom/CreditSales.js"></script>
<script src="~/Scripts/custom/GenericLib.js"></script>
<script src="~/js/plugins/chosen/chosen.jquery.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
        CreditSalesTrigger();
    });
</script>


